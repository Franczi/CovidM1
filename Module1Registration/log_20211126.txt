2021-11-26 14:19:16.031 +01:00 [INF] User profile is available. Using 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 14:19:16.830 +01:00 [INF] Now listening on: https://localhost:5001
2021-11-26 14:19:16.832 +01:00 [INF] Now listening on: http://localhost:5000
2021-11-26 14:19:16.833 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 14:19:16.834 +01:00 [INF] Hosting environment: Development
2021-11-26 14:19:16.834 +01:00 [INF] Content root path: C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration
2021-11-26 14:19:17.142 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Patients - -
2021-11-26 14:19:17.142 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients application/json 130
2021-11-26 14:19:17.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-11-26 14:19:17.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 61.6690ms
2021-11-26 14:19:17.469 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-11-26 14:19:17.557 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 88.6393ms
2021-11-26 14:19:17.772 +01:00 [INF] Successfully validated the token.
2021-11-26 14:19:17.772 +01:00 [INF] Successfully validated the token.
2021-11-26 14:19:17.779 +01:00 [INF] Authorization was successful.
2021-11-26 14:19:17.779 +01:00 [INF] Authorization was successful.
2021-11-26 14:19:17.780 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:19:17.780 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:19:17.793 +01:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatients() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:19:17.800 +01:00 [INF] Route matched with {action = "CreatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePatient(Module1Registration.Model.Patient) on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:19:18.229 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 14:19:18.229 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 14:19:18.954 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 14:19:19.139 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 14:19:19.150 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Module1Registration.Model.Patient, Module1Registration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:19:19.165 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) in 1366.33ms
2021-11-26 14:19:19.167 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:19:19.171 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Patients - - - 200 - application/json;+charset=utf-8 2031.8489ms
2021-11-26 14:19:19.218 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0
2021-11-26 14:19:19.221 +01:00 [INF] Successfully validated the token.
2021-11-26 14:19:19.222 +01:00 [INF] Authorization was successful.
2021-11-26 14:19:19.222 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:19:19.224 +01:00 [INF] Route matched with {action = "Invalid", controller = "Patients"}. Executing controller action with signature Void Invalid() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:19:23.140 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) in 3914.6897ms
2021-11-26 14:19:23.142 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:19:23.145 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Kontrolowany wyjÄ…tek aplikacji
   at Module1Registration.Controllers.PatientsController.Invalid() in C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration\Controllers\PatientsController.cs:line 51
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.<>c__DisplayClass33_0.<WrapVoidMethod>b__0(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.VoidResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-26 14:19:23.195 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0 - 500 - text/plain 3977.0791ms
2021-11-26 14:19:27.289 +01:00 [INF] Executing CreatedResult, writing value of type 'Module1Registration.Model.Patient'.
2021-11-26 14:19:27.290 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) in 9489.1236ms
2021-11-26 14:19:27.291 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:19:27.293 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients application/json 130 - 201 - application/json;+charset=utf-8 10153.9294ms
2021-11-26 14:36:59.286 +01:00 [DBG] Hosting starting
2021-11-26 14:36:59.385 +01:00 [INF] User profile is available. Using 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 14:36:59.401 +01:00 [DBG] Reading data from file 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys\key-0cfc37d2-185c-43a7-bf74-651739a90b9f.xml'.
2021-11-26 14:36:59.417 +01:00 [DBG] Found key {0cfc37d2-185c-43a7-bf74-651739a90b9f}.
2021-11-26 14:36:59.429 +01:00 [DBG] Considering key {0cfc37d2-185c-43a7-bf74-651739a90b9f} with expiration date 2022-02-22 20:30:42Z as default key.
2021-11-26 14:36:59.439 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:36:59.443 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-26 14:36:59.446 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:36:59.450 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-26 14:36:59.454 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-26 14:36:59.458 +01:00 [DBG] Using key {0cfc37d2-185c-43a7-bf74-651739a90b9f} as the default key.
2021-11-26 14:36:59.461 +01:00 [DBG] Key ring with default key {0cfc37d2-185c-43a7-bf74-651739a90b9f} was loaded during application startup.
2021-11-26 14:37:00.090 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FE07226D4C9FE5498DB010CAFE86FB2848FC7023)
2021-11-26 14:37:00.113 +01:00 [INF] Now listening on: https://localhost:5001
2021-11-26 14:37:00.116 +01:00 [INF] Now listening on: http://localhost:5000
2021-11-26 14:37:00.118 +01:00 [DBG] Loaded hosting startup assembly Module1Registration
2021-11-26 14:37:00.120 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 14:37:00.121 +01:00 [INF] Hosting environment: Development
2021-11-26 14:37:00.123 +01:00 [INF] Content root path: C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration
2021-11-26 14:37:00.124 +01:00 [DBG] Hosting started
2021-11-26 14:37:00.326 +01:00 [DBG] Connection id "0HMDGS79FG6F3" accepted.
2021-11-26 14:37:00.326 +01:00 [DBG] Connection id "0HMDGS79FG6F2" accepted.
2021-11-26 14:37:00.332 +01:00 [DBG] Connection id "0HMDGS79FG6F3" started.
2021-11-26 14:37:00.334 +01:00 [DBG] Connection id "0HMDGS79FG6F2" started.
2021-11-26 14:37:00.401 +01:00 [DBG] Connection id "0HMDGS79FG6F2" received FIN.
2021-11-26 14:37:00.401 +01:00 [DBG] Connection id "0HMDGS79FG6F3" received FIN.
2021-11-26 14:37:00.409 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:37:00.409 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:37:00.482 +01:00 [DBG] Connection id "0HMDGS79FG6F3" stopped.
2021-11-26 14:37:00.482 +01:00 [DBG] Connection id "0HMDGS79FG6F2" stopped.
2021-11-26 14:37:00.495 +01:00 [DBG] Connection id "0HMDGS79FG6F3" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:37:00.495 +01:00 [DBG] Connection id "0HMDGS79FG6F2" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:37:00.653 +01:00 [DBG] Connection id "0HMDGS79FG6F4" accepted.
2021-11-26 14:37:00.666 +01:00 [DBG] Connection id "0HMDGS79FG6F4" started.
2021-11-26 14:37:00.693 +01:00 [DBG] Connection "0HMDGS79FG6F4" established using the following protocol: "Tls12"
2021-11-26 14:37:00.746 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:37:00.756 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:37:00.759 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:37:00.763 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:37:00.766 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:37:00.769 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "PRIORITY" frame for stream ID 3 with length 5 and flags 0x0
2021-11-26 14:37:00.772 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "PRIORITY" frame for stream ID 5 with length 5 and flags 0x0
2021-11-26 14:37:00.774 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "PRIORITY" frame for stream ID 7 with length 5 and flags 0x0
2021-11-26 14:37:00.775 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "PRIORITY" frame for stream ID 9 with length 5 and flags 0x0
2021-11-26 14:37:00.777 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "PRIORITY" frame for stream ID 11 with length 5 and flags 0x0
2021-11-26 14:37:00.780 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "PRIORITY" frame for stream ID 13 with length 5 and flags 0x0
2021-11-26 14:37:00.784 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "HEADERS" frame for stream ID 15 with length 289 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:37:00.803 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "WINDOW_UPDATE" frame for stream ID 15 with length 4 and flags 0x0
2021-11-26 14:37:00.806 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:37:00.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-11-26 14:37:00.831 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 14:37:00.834 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:37:00.901 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "HEADERS" frame for stream ID 15 with length 90 and flags "END_HEADERS"
2021-11-26 14:37:00.904 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "DATA" frame for stream ID 15 with length 3193 and flags "NONE"
2021-11-26 14:37:00.908 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "DATA" frame for stream ID 15 with length 0 and flags "END_STREAM"
2021-11-26 14:37:00.920 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 98.4121ms
2021-11-26 14:37:01.019 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "HEADERS" frame for stream ID 17 with length 105 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:37:01.025 +01:00 [VRB] Connection id "0HMDGS79FG6F4" received "WINDOW_UPDATE" frame for stream ID 17 with length 4 and flags 0x0
2021-11-26 14:37:01.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-11-26 14:37:01.030 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:37:01.102 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "HEADERS" frame for stream ID 17 with length 66 and flags "END_HEADERS"
2021-11-26 14:37:01.106 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "DATA" frame for stream ID 17 with length 4924 and flags "NONE"
2021-11-26 14:37:01.109 +01:00 [VRB] Connection id "0HMDGS79FG6F4" sending "DATA" frame for stream ID 17 with length 0 and flags "END_STREAM"
2021-11-26 14:37:01.112 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.7207ms
2021-11-26 14:38:08.132 +01:00 [DBG] Hosting starting
2021-11-26 14:38:08.246 +01:00 [INF] User profile is available. Using 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 14:38:08.259 +01:00 [DBG] Reading data from file 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys\key-0cfc37d2-185c-43a7-bf74-651739a90b9f.xml'.
2021-11-26 14:38:08.273 +01:00 [DBG] Found key {0cfc37d2-185c-43a7-bf74-651739a90b9f}.
2021-11-26 14:38:08.285 +01:00 [DBG] Considering key {0cfc37d2-185c-43a7-bf74-651739a90b9f} with expiration date 2022-02-22 20:30:42Z as default key.
2021-11-26 14:38:08.296 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:38:08.300 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-26 14:38:08.302 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:38:08.307 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-26 14:38:08.310 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-26 14:38:08.315 +01:00 [DBG] Using key {0cfc37d2-185c-43a7-bf74-651739a90b9f} as the default key.
2021-11-26 14:38:08.318 +01:00 [DBG] Key ring with default key {0cfc37d2-185c-43a7-bf74-651739a90b9f} was loaded during application startup.
2021-11-26 14:38:08.781 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FE07226D4C9FE5498DB010CAFE86FB2848FC7023)
2021-11-26 14:38:08.803 +01:00 [INF] Now listening on: https://localhost:5001
2021-11-26 14:38:08.805 +01:00 [INF] Now listening on: http://localhost:5000
2021-11-26 14:38:08.807 +01:00 [DBG] Loaded hosting startup assembly Module1Registration
2021-11-26 14:38:08.809 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 14:38:08.811 +01:00 [INF] Hosting environment: Development
2021-11-26 14:38:08.813 +01:00 [INF] Content root path: C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration
2021-11-26 14:38:08.814 +01:00 [DBG] Hosting started
2021-11-26 14:38:08.878 +01:00 [DBG] Connection id "0HMDGS7TT8IUP" accepted.
2021-11-26 14:38:08.882 +01:00 [DBG] Connection id "0HMDGS7TT8IUP" started.
2021-11-26 14:38:08.885 +01:00 [DBG] Connection id "0HMDGS7TT8IUQ" accepted.
2021-11-26 14:38:08.888 +01:00 [DBG] Connection id "0HMDGS7TT8IUQ" started.
2021-11-26 14:38:08.898 +01:00 [DBG] Connection id "0HMDGS7TT8IUP" received FIN.
2021-11-26 14:38:08.898 +01:00 [DBG] Connection id "0HMDGS7TT8IUQ" received FIN.
2021-11-26 14:38:08.906 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:38:08.906 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:38:08.968 +01:00 [DBG] Connection id "0HMDGS7TT8IUQ" stopped.
2021-11-26 14:38:08.968 +01:00 [DBG] Connection id "0HMDGS7TT8IUP" stopped.
2021-11-26 14:38:08.982 +01:00 [DBG] Connection id "0HMDGS7TT8IUQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:38:08.986 +01:00 [DBG] Connection id "0HMDGS7TT8IUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:38:09.134 +01:00 [DBG] Connection id "0HMDGS7TT8IUR" accepted.
2021-11-26 14:38:09.141 +01:00 [DBG] Connection id "0HMDGS7TT8IUR" started.
2021-11-26 14:38:09.165 +01:00 [DBG] Connection "0HMDGS7TT8IUR" established using the following protocol: "Tls12"
2021-11-26 14:38:09.189 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:38:09.202 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:38:09.207 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:38:09.212 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:38:09.217 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:38:09.220 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "PRIORITY" frame for stream ID 3 with length 5 and flags 0x0
2021-11-26 14:38:09.222 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "PRIORITY" frame for stream ID 5 with length 5 and flags 0x0
2021-11-26 14:38:09.226 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "PRIORITY" frame for stream ID 7 with length 5 and flags 0x0
2021-11-26 14:38:09.230 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "PRIORITY" frame for stream ID 9 with length 5 and flags 0x0
2021-11-26 14:38:09.233 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "PRIORITY" frame for stream ID 11 with length 5 and flags 0x0
2021-11-26 14:38:09.236 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "PRIORITY" frame for stream ID 13 with length 5 and flags 0x0
2021-11-26 14:38:09.239 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "HEADERS" frame for stream ID 15 with length 289 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:38:09.261 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "WINDOW_UPDATE" frame for stream ID 15 with length 4 and flags 0x0
2021-11-26 14:38:09.264 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:38:09.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-11-26 14:38:09.297 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 14:38:09.299 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:38:09.370 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "HEADERS" frame for stream ID 15 with length 90 and flags "END_HEADERS"
2021-11-26 14:38:09.375 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "DATA" frame for stream ID 15 with length 3193 and flags "NONE"
2021-11-26 14:38:09.379 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "DATA" frame for stream ID 15 with length 0 and flags "END_STREAM"
2021-11-26 14:38:09.390 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 104.6045ms
2021-11-26 14:38:09.518 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "HEADERS" frame for stream ID 17 with length 105 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:38:09.525 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "WINDOW_UPDATE" frame for stream ID 17 with length 4 and flags 0x0
2021-11-26 14:38:09.527 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-11-26 14:38:09.531 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:38:09.610 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "HEADERS" frame for stream ID 17 with length 36 and flags "END_HEADERS"
2021-11-26 14:38:09.616 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "DATA" frame for stream ID 17 with length 4924 and flags "NONE"
2021-11-26 14:38:09.620 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "DATA" frame for stream ID 17 with length 0 and flags "END_STREAM"
2021-11-26 14:38:09.623 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 95.9957ms
2021-11-26 14:39:08.260 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" received "PING" frame for stream ID 0 with length 8 and flags "NONE"
2021-11-26 14:39:08.272 +01:00 [VRB] Connection id "0HMDGS7TT8IUR" sending "PING" frame for stream ID 0 with length 8 and flags "ACK"
2021-11-26 14:40:22.973 +01:00 [DBG] Hosting starting
2021-11-26 14:40:23.079 +01:00 [INF] User profile is available. Using 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 14:40:23.096 +01:00 [DBG] Reading data from file 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys\key-0cfc37d2-185c-43a7-bf74-651739a90b9f.xml'.
2021-11-26 14:40:23.116 +01:00 [DBG] Found key {0cfc37d2-185c-43a7-bf74-651739a90b9f}.
2021-11-26 14:40:23.131 +01:00 [DBG] Considering key {0cfc37d2-185c-43a7-bf74-651739a90b9f} with expiration date 2022-02-22 20:30:42Z as default key.
2021-11-26 14:40:23.142 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:40:23.146 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-26 14:40:23.148 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:40:23.152 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-26 14:40:23.155 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-26 14:40:23.159 +01:00 [DBG] Using key {0cfc37d2-185c-43a7-bf74-651739a90b9f} as the default key.
2021-11-26 14:40:23.162 +01:00 [DBG] Key ring with default key {0cfc37d2-185c-43a7-bf74-651739a90b9f} was loaded during application startup.
2021-11-26 14:40:23.719 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FE07226D4C9FE5498DB010CAFE86FB2848FC7023)
2021-11-26 14:40:23.745 +01:00 [INF] Now listening on: https://localhost:5001
2021-11-26 14:40:23.750 +01:00 [INF] Now listening on: http://localhost:5000
2021-11-26 14:40:23.753 +01:00 [DBG] Loaded hosting startup assembly Module1Registration
2021-11-26 14:40:23.758 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 14:40:23.763 +01:00 [INF] Hosting environment: Development
2021-11-26 14:40:23.770 +01:00 [INF] Content root path: C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration
2021-11-26 14:40:23.773 +01:00 [DBG] Hosting started
2021-11-26 14:40:23.934 +01:00 [DBG] Connection id "0HMDGS96590FP" received FIN.
2021-11-26 14:40:23.934 +01:00 [DBG] Connection id "0HMDGS96590FQ" received FIN.
2021-11-26 14:40:23.956 +01:00 [DBG] Connection id "0HMDGS96590FP" accepted.
2021-11-26 14:40:23.956 +01:00 [DBG] Connection id "0HMDGS96590FQ" accepted.
2021-11-26 14:40:23.964 +01:00 [DBG] Connection id "0HMDGS96590FQ" started.
2021-11-26 14:40:23.965 +01:00 [DBG] Connection id "0HMDGS96590FP" started.
2021-11-26 14:40:24.008 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:40:24.008 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:40:24.084 +01:00 [DBG] Connection id "0HMDGS96590FQ" stopped.
2021-11-26 14:40:24.084 +01:00 [DBG] Connection id "0HMDGS96590FP" stopped.
2021-11-26 14:40:24.091 +01:00 [DBG] Connection id "0HMDGS96590FQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:40:24.099 +01:00 [DBG] Connection id "0HMDGS96590FP" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:40:24.127 +01:00 [DBG] Connection id "0HMDGS96590FR" accepted.
2021-11-26 14:40:24.130 +01:00 [DBG] Connection id "0HMDGS96590FR" started.
2021-11-26 14:40:24.132 +01:00 [DBG] Connection id "0HMDGS96590FS" accepted.
2021-11-26 14:40:24.141 +01:00 [DBG] Connection id "0HMDGS96590FT" accepted.
2021-11-26 14:40:24.154 +01:00 [DBG] Connection id "0HMDGS96590FT" started.
2021-11-26 14:40:24.156 +01:00 [DBG] Connection id "0HMDGS96590FS" started.
2021-11-26 14:40:24.182 +01:00 [DBG] Connection "0HMDGS96590FS" established using the following protocol: "Tls12"
2021-11-26 14:40:24.198 +01:00 [DBG] Connection "0HMDGS96590FR" established using the following protocol: "Tls12"
2021-11-26 14:40:24.198 +01:00 [DBG] Connection "0HMDGS96590FT" established using the following protocol: "Tls12"
2021-11-26 14:40:24.234 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:40:24.239 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:40:24.250 +01:00 [VRB] Connection id "0HMDGS96590FT" received "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:40:24.254 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:40:24.257 +01:00 [VRB] Connection id "0HMDGS96590FT" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:40:24.267 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PRIORITY" frame for stream ID 3 with length 5 and flags 0x0
2021-11-26 14:40:24.288 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PRIORITY" frame for stream ID 5 with length 5 and flags 0x0
2021-11-26 14:40:24.295 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PRIORITY" frame for stream ID 7 with length 5 and flags 0x0
2021-11-26 14:40:24.300 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PRIORITY" frame for stream ID 9 with length 5 and flags 0x0
2021-11-26 14:40:24.303 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PRIORITY" frame for stream ID 11 with length 5 and flags 0x0
2021-11-26 14:40:24.295 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients application/json 130
2021-11-26 14:40:24.295 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Patients - -
2021-11-26 14:40:24.316 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PRIORITY" frame for stream ID 13 with length 5 and flags 0x0
2021-11-26 14:40:24.319 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 14:40:24.319 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 14:40:24.325 +01:00 [VRB] Connection id "0HMDGS96590FT" received "HEADERS" frame for stream ID 15 with length 289 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:40:24.327 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:40:24.329 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:40:24.342 +01:00 [VRB] Connection id "0HMDGS96590FT" received "WINDOW_UPDATE" frame for stream ID 15 with length 4 and flags 0x0
2021-11-26 14:40:24.354 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-11-26 14:40:24.357 +01:00 [VRB] Connection id "0HMDGS96590FT" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:40:24.363 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:40:24.383 +01:00 [DBG] POST requests are not supported
2021-11-26 14:40:24.383 +01:00 [DBG] The request path  does not match the path filter
2021-11-26 14:40:24.416 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 14:40:24.416 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 14:40:24.421 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 14:40:24.421 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 14:40:24.425 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:40:24.428 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:40:24.479 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "HEADERS" frame for stream ID 15 with length 90 and flags "END_HEADERS"
2021-11-26 14:40:24.483 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "DATA" frame for stream ID 15 with length 3193 and flags "NONE"
2021-11-26 14:40:24.486 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "DATA" frame for stream ID 15 with length 0 and flags "END_STREAM"
2021-11-26 14:40:24.500 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 144.9188ms
2021-11-26 14:40:24.632 +01:00 [VRB] Connection id "0HMDGS96590FT" received "HEADERS" frame for stream ID 17 with length 105 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:40:24.640 +01:00 [VRB] Connection id "0HMDGS96590FT" received "WINDOW_UPDATE" frame for stream ID 17 with length 4 and flags 0x0
2021-11-26 14:40:24.642 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-11-26 14:40:24.649 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:40:24.769 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "HEADERS" frame for stream ID 17 with length 66 and flags "END_HEADERS"
2021-11-26 14:40:24.773 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "DATA" frame for stream ID 17 with length 4924 and flags "NONE"
2021-11-26 14:40:24.779 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "DATA" frame for stream ID 17 with length 0 and flags "END_STREAM"
2021-11-26 14:40:24.782 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.9371ms
2021-11-26 14:40:25.024 +01:00 [INF] Successfully validated the token.
2021-11-26 14:40:25.024 +01:00 [INF] Successfully validated the token.
2021-11-26 14:40:25.029 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 14:40:25.029 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 14:40:25.038 +01:00 [INF] Authorization was successful.
2021-11-26 14:40:25.038 +01:00 [INF] Authorization was successful.
2021-11-26 14:40:25.042 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:40:25.042 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:40:25.052 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-11-26 14:40:25.074 +01:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatients() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:40:25.081 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 14:40:25.084 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 14:40:25.087 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 14:40:25.091 +01:00 [INF] Route matched with {action = "CreatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePatient(Module1Registration.Model.Patient) on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:40:25.097 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 14:40:25.101 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 14:40:25.104 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 14:40:25.105 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 14:40:25.108 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:40:25.110 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 14:40:25.117 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 14:40:25.119 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 14:40:25.122 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:40:25.197 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 14:40:25.197 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 14:40:25.253 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:40:25.253 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:40:25.259 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:25.267 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:25.270 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:25.272 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 14:40:25.273 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:25.277 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' using the name '' in request data ...
2021-11-26 14:40:25.282 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) - Validation state: "Valid"
2021-11-26 14:40:25.285 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-11-26 14:40:25.290 +01:00 [DBG] Connection id "0HMDGS96590FS", Request id "0HMDGS96590FS:00000002": started reading request body.
2021-11-26 14:40:25.292 +01:00 [DBG] Connection id "0HMDGS96590FS", Request id "0HMDGS96590FS:00000002": done reading request body.
2021-11-26 14:40:25.305 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'Module1Registration.Model.Patient'
2021-11-26 14:40:25.308 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 14:40:25.313 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 14:40:25.316 +01:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 14:40:25.322 +01:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 14:40:25.325 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:25.329 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:25.332 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:25.334 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:25.336 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) - Validation state: "Valid"
2021-11-26 14:40:25.338 +01:00 [VRB] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) with arguments (["Module1Registration.Model.Patient"])
2021-11-26 14:40:25.627 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 14:40:25.627 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 14:40:25.664 +01:00 [DBG] 'PatientsContext' generated a temporary value for the property 'Id.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:25.670 +01:00 [DBG] Compiling query expression: 
'DbSet<Patient>()'
2021-11-26 14:40:25.714 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:25.719 +01:00 [DBG] SaveChanges starting for 'PatientsContext'.
2021-11-26 14:40:25.724 +01:00 [DBG] DetectChanges starting for 'PatientsContext'.
2021-11-26 14:40:25.735 +01:00 [DBG] DetectChanges completed for 'PatientsContext'.
2021-11-26 14:40:25.779 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:25.798 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Patient>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Age (Nullable<int>), 1], [Property: Patient.Email (string), 2], [Property: Patient.FirstName (string), 3], [Property: Patient.LastName (string), 4], [Property: Patient.TestDate (DateTime) Required, 5], }
        SELECT p.Id, p.Age, p.Email, p.FirstName, p.LastName, p.TestDate
        FROM Patients AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
    Module1Registration.Model.PatientsContext, 
    False, 
    False
)'
2021-11-26 14:40:25.835 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 14:40:25.842 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2021-11-26 14:40:25.847 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:26.988 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:26.993 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2021-11-26 14:40:27.031 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2021-11-26 14:40:27.065 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 14:40:27.068 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2021-11-26 14:40:27.083 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 14:40:27.147 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 14:40:27.164 +01:00 [DBG] The foreign key property 'Patient.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2021-11-26 14:40:27.174 +01:00 [DBG] A data reader was disposed.
2021-11-26 14:40:27.179 +01:00 [DBG] Committing transaction.
2021-11-26 14:40:27.227 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:27.230 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 14:40:27.264 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 14:40:27.270 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.274 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.278 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.280 +01:00 [DBG] Committed transaction.
2021-11-26 14:40:27.282 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.284 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.285 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:27.288 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.291 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.294 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.296 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.298 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:27.300 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.302 +01:00 [DBG] Disposing transaction.
2021-11-26 14:40:27.302 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.307 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.310 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.312 +01:00 [DBG] A data reader was disposed.
2021-11-26 14:40:27.315 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:27.317 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:40:27.320 +01:00 [DBG] An entity of type 'Patient' tracked by 'PatientsContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:40:27.323 +01:00 [DBG] SaveChanges completed for 'PatientsContext' with 1 entities written to the database.
2021-11-26 14:40:27.326 +01:00 [INF] Executed action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2035.1807ms.
2021-11-26 14:40:27.330 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:27.332 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:27.336 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:27.338 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:27.341 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:27.343 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:27.347 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 14:40:27.350 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-11-26 14:40:27.356 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-11-26 14:40:27.358 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-11-26 14:40:27.361 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-11-26 14:40:27.364 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-11-26 14:40:27.372 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-11-26 14:40:27.380 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Module1Registration.Model.Patient, Module1Registration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:40:27.405 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 14:40:27.409 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:27.417 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:27.423 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) in 2312.4943ms
2021-11-26 14:40:27.428 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:40:27.432 +01:00 [DBG] Connection id "0HMDGS96590FR" completed keep alive response.
2021-11-26 14:40:27.436 +01:00 [DBG] 'PatientsContext' disposed.
2021-11-26 14:40:27.439 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Patients - - - 200 - application/json;+charset=utf-8 3165.4983ms
2021-11-26 14:40:27.460 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0
2021-11-26 14:40:27.462 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:40:27.464 +01:00 [DBG] POST requests are not supported
2021-11-26 14:40:27.467 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients/invalid'
2021-11-26 14:40:27.468 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)' with route pattern 'api/Patients/invalid' is valid for the request path '/api/Patients/invalid'
2021-11-26 14:40:27.473 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:40:27.480 +01:00 [INF] Successfully validated the token.
2021-11-26 14:40:27.482 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 14:40:27.484 +01:00 [INF] Authorization was successful.
2021-11-26 14:40:27.486 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:40:27.489 +01:00 [INF] Route matched with {action = "Invalid", controller = "Patients"}. Executing controller action with signature Void Invalid() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:40:27.492 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 14:40:27.495 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 14:40:27.497 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 14:40:27.500 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 14:40:27.502 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 14:40:27.505 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:40:27.509 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:40:27.511 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:27.514 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:27.516 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:27.520 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:27.523 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) - Validation state: "Valid"
2021-11-26 14:40:38.057 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:38.062 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:38.066 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:38.070 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:38.074 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) in 10569.197ms
2021-11-26 14:40:38.078 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:40:38.082 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Kontrolowany wyjÄ…tek aplikacji
   at Module1Registration.Controllers.PatientsController.Invalid() in C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration\Controllers\PatientsController.cs:line 51
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.<>c__DisplayClass33_0.<WrapVoidMethod>b__0(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.VoidResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-26 14:40:38.129 +01:00 [DBG] Connection id "0HMDGS96590FR" completed keep alive response.
2021-11-26 14:40:38.133 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0 - 500 - text/plain 10672.8225ms
2021-11-26 14:40:41.705 +01:00 [DBG] Connection id "0HMDGS96590FR" reset.
2021-11-26 14:40:41.710 +01:00 [DBG] Connection id "0HMDGS96590FS" reset.
2021-11-26 14:40:41.712 +01:00 [DBG] Connection id "0HMDGS96590FR" sending FIN because: "The client closed the connection."
2021-11-26 14:40:41.715 +01:00 [DBG] Connection id "0HMDGS96590FS" sending FIN because: "The client closed the connection."
2021-11-26 14:40:41.717 +01:00 [DBG] Connection id "0HMDGS96590FR" disconnecting.
2021-11-26 14:40:41.718 +01:00 [DBG] Connection id "0HMDGS96590FS" disconnecting.
2021-11-26 14:40:41.722 +01:00 [DBG] Connection id "0HMDGS96590FR" stopped.
2021-11-26 14:40:42.123 +01:00 [INF] Executed action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 16780.218ms.
2021-11-26 14:40:42.129 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:42.133 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:40:42.136 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:42.138 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:40:42.141 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:42.144 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:42.147 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2021-11-26 14:40:42.150 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-11-26 14:40:42.154 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-11-26 14:40:42.156 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-11-26 14:40:42.158 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-11-26 14:40:42.162 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-11-26 14:40:42.165 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-11-26 14:40:42.167 +01:00 [INF] Executing CreatedResult, writing value of type 'Module1Registration.Model.Patient'.
2021-11-26 14:40:42.170 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2021-11-26 14:40:42.172 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:42.175 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:40:42.178 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) in 17056.6653ms
2021-11-26 14:40:42.181 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:40:42.183 +01:00 [DBG] 'PatientsContext' disposed.
2021-11-26 14:40:42.185 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients application/json 130 - 201 - application/json;+charset=utf-8 17911.6436ms
2021-11-26 14:40:42.192 +01:00 [DBG] Connection id "0HMDGS96590FS" stopped.
2021-11-26 14:41:23.284 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PING" frame for stream ID 0 with length 8 and flags "NONE"
2021-11-26 14:41:23.313 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "PING" frame for stream ID 0 with length 8 and flags "ACK"
2021-11-26 14:42:21.482 +01:00 [VRB] Connection id "0HMDGS96590FT" received "PING" frame for stream ID 0 with length 8 and flags "NONE"
2021-11-26 14:42:21.489 +01:00 [VRB] Connection id "0HMDGS96590FT" sending "PING" frame for stream ID 0 with length 8 and flags "ACK"
2021-11-26 14:44:00.226 +01:00 [DBG] Hosting starting
2021-11-26 14:44:00.349 +01:00 [INF] User profile is available. Using 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 14:44:00.365 +01:00 [DBG] Reading data from file 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys\key-0cfc37d2-185c-43a7-bf74-651739a90b9f.xml'.
2021-11-26 14:44:00.380 +01:00 [DBG] Found key {0cfc37d2-185c-43a7-bf74-651739a90b9f}.
2021-11-26 14:44:00.392 +01:00 [DBG] Considering key {0cfc37d2-185c-43a7-bf74-651739a90b9f} with expiration date 2022-02-22 20:30:42Z as default key.
2021-11-26 14:44:00.403 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:44:00.407 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-26 14:44:00.410 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 14:44:00.416 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-26 14:44:00.419 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-26 14:44:00.425 +01:00 [DBG] Using key {0cfc37d2-185c-43a7-bf74-651739a90b9f} as the default key.
2021-11-26 14:44:00.428 +01:00 [DBG] Key ring with default key {0cfc37d2-185c-43a7-bf74-651739a90b9f} was loaded during application startup.
2021-11-26 14:44:01.050 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FE07226D4C9FE5498DB010CAFE86FB2848FC7023)
2021-11-26 14:44:01.071 +01:00 [INF] Now listening on: https://localhost:5001
2021-11-26 14:44:01.080 +01:00 [INF] Now listening on: http://localhost:5000
2021-11-26 14:44:01.082 +01:00 [DBG] Loaded hosting startup assembly Module1Registration
2021-11-26 14:44:01.083 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 14:44:01.085 +01:00 [INF] Hosting environment: Development
2021-11-26 14:44:01.086 +01:00 [INF] Content root path: C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration
2021-11-26 14:44:01.088 +01:00 [DBG] Hosting started
2021-11-26 14:44:01.308 +01:00 [DBG] Connection id "0HMDGSB6UA4MV" received FIN.
2021-11-26 14:44:01.314 +01:00 [DBG] Connection id "0HMDGSB6UA4MU" received FIN.
2021-11-26 14:44:01.319 +01:00 [DBG] Connection id "0HMDGSB6UA4MU" accepted.
2021-11-26 14:44:01.319 +01:00 [DBG] Connection id "0HMDGSB6UA4MV" accepted.
2021-11-26 14:44:01.331 +01:00 [DBG] Connection id "0HMDGSB6UA4MU" started.
2021-11-26 14:44:01.332 +01:00 [DBG] Connection id "0HMDGSB6UA4MV" started.
2021-11-26 14:44:01.346 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:44:01.346 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 14:44:01.402 +01:00 [DBG] Connection id "0HMDGSB6UA4MU" stopped.
2021-11-26 14:44:01.402 +01:00 [DBG] Connection id "0HMDGSB6UA4MV" stopped.
2021-11-26 14:44:01.411 +01:00 [DBG] Connection id "0HMDGSB6UA4MU" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:44:01.411 +01:00 [DBG] Connection id "0HMDGSB6UA4MV" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 14:44:01.492 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" accepted.
2021-11-26 14:44:01.496 +01:00 [DBG] Connection id "0HMDGSB6UA4N1" accepted.
2021-11-26 14:44:01.504 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" started.
2021-11-26 14:44:01.504 +01:00 [DBG] Connection id "0HMDGSB6UA4N2" accepted.
2021-11-26 14:44:01.510 +01:00 [DBG] Connection id "0HMDGSB6UA4N1" started.
2021-11-26 14:44:01.512 +01:00 [DBG] Connection id "0HMDGSB6UA4N2" started.
2021-11-26 14:44:01.533 +01:00 [DBG] Connection "0HMDGSB6UA4N1" established using the following protocol: "Tls12"
2021-11-26 14:44:01.533 +01:00 [DBG] Connection "0HMDGSB6UA4N2" established using the following protocol: "Tls12"
2021-11-26 14:44:01.535 +01:00 [DBG] Connection "0HMDGSB6UA4N0" established using the following protocol: "Tls12"
2021-11-26 14:44:01.571 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:44:01.579 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:44:01.585 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 14:44:01.589 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:44:01.596 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 14:44:01.600 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "PRIORITY" frame for stream ID 3 with length 5 and flags 0x0
2021-11-26 14:44:01.603 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "PRIORITY" frame for stream ID 5 with length 5 and flags 0x0
2021-11-26 14:44:01.612 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "PRIORITY" frame for stream ID 7 with length 5 and flags 0x0
2021-11-26 14:44:01.616 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "PRIORITY" frame for stream ID 9 with length 5 and flags 0x0
2021-11-26 14:44:01.620 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "PRIORITY" frame for stream ID 11 with length 5 and flags 0x0
2021-11-26 14:44:01.628 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "PRIORITY" frame for stream ID 13 with length 5 and flags 0x0
2021-11-26 14:44:01.626 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients application/json 130
2021-11-26 14:44:01.626 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Patients - -
2021-11-26 14:44:01.637 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "HEADERS" frame for stream ID 15 with length 289 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:44:01.648 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 14:44:01.648 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 14:44:01.651 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:44:01.653 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:44:01.662 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "WINDOW_UPDATE" frame for stream ID 15 with length 4 and flags 0x0
2021-11-26 14:44:01.665 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-11-26 14:44:01.666 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 14:44:01.682 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:44:01.701 +01:00 [DBG] POST requests are not supported
2021-11-26 14:44:01.701 +01:00 [DBG] The request path  does not match the path filter
2021-11-26 14:44:01.755 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 14:44:01.755 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 14:44:01.763 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 14:44:01.763 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 14:44:01.767 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:44:01.768 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:44:01.799 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "HEADERS" frame for stream ID 15 with length 90 and flags "END_HEADERS"
2021-11-26 14:44:01.803 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "DATA" frame for stream ID 15 with length 3193 and flags "NONE"
2021-11-26 14:44:01.808 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "DATA" frame for stream ID 15 with length 0 and flags "END_STREAM"
2021-11-26 14:44:01.818 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 152.1413ms
2021-11-26 14:44:01.946 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "HEADERS" frame for stream ID 17 with length 105 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 14:44:01.961 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-11-26 14:44:01.959 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "WINDOW_UPDATE" frame for stream ID 17 with length 4 and flags 0x0
2021-11-26 14:44:01.964 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:44:02.041 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "HEADERS" frame for stream ID 17 with length 66 and flags "END_HEADERS"
2021-11-26 14:44:02.044 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "DATA" frame for stream ID 17 with length 4924 and flags "NONE"
2021-11-26 14:44:02.047 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "DATA" frame for stream ID 17 with length 0 and flags "END_STREAM"
2021-11-26 14:44:02.049 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.8009ms
2021-11-26 14:44:02.411 +01:00 [INF] Successfully validated the token.
2021-11-26 14:44:02.411 +01:00 [INF] Successfully validated the token.
2021-11-26 14:44:02.415 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 14:44:02.415 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 14:44:02.423 +01:00 [INF] Authorization was successful.
2021-11-26 14:44:02.423 +01:00 [INF] Authorization was successful.
2021-11-26 14:44:02.427 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:44:02.427 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:44:02.435 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-11-26 14:44:02.454 +01:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatients() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:44:02.460 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 14:44:02.462 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 14:44:02.464 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 14:44:02.467 +01:00 [INF] Route matched with {action = "CreatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePatient(Module1Registration.Model.Patient) on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:44:02.468 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 14:44:02.472 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 14:44:02.474 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 14:44:02.476 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 14:44:02.479 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:44:02.479 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 14:44:02.484 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 14:44:02.487 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 14:44:02.490 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:44:02.561 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 14:44:02.561 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 14:44:02.615 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:44:02.615 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:44:02.620 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:02.622 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:02.625 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:02.633 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:02.635 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 14:44:02.639 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' using the name '' in request data ...
2021-11-26 14:44:02.641 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) - Validation state: "Valid"
2021-11-26 14:44:02.643 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-11-26 14:44:02.648 +01:00 [DBG] Connection id "0HMDGSB6UA4N2", Request id "0HMDGSB6UA4N2:00000002": started reading request body.
2021-11-26 14:44:02.651 +01:00 [DBG] Connection id "0HMDGSB6UA4N2", Request id "0HMDGSB6UA4N2:00000002": done reading request body.
2021-11-26 14:44:02.663 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'Module1Registration.Model.Patient'
2021-11-26 14:44:02.666 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 14:44:02.669 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 14:44:02.671 +01:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 14:44:02.677 +01:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 14:44:02.680 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:02.682 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:02.685 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:02.687 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:02.690 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) - Validation state: "Valid"
2021-11-26 14:44:02.693 +01:00 [VRB] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) with arguments (["Module1Registration.Model.Patient"])
2021-11-26 14:44:02.971 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 14:44:02.971 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 14:44:03.006 +01:00 [DBG] 'PatientsContext' generated a temporary value for the property 'Id.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:03.014 +01:00 [DBG] Compiling query expression: 
'DbSet<Patient>()'
2021-11-26 14:44:03.062 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:03.068 +01:00 [DBG] SaveChanges starting for 'PatientsContext'.
2021-11-26 14:44:03.072 +01:00 [DBG] DetectChanges starting for 'PatientsContext'.
2021-11-26 14:44:03.084 +01:00 [DBG] DetectChanges completed for 'PatientsContext'.
2021-11-26 14:44:03.124 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:03.141 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Patient>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Age (Nullable<int>), 1], [Property: Patient.Email (string), 2], [Property: Patient.FirstName (string), 3], [Property: Patient.LastName (string), 4], [Property: Patient.TestDate (DateTime) Required, 5], }
        SELECT p.Id, p.Age, p.Email, p.FirstName, p.LastName, p.TestDate
        FROM Patients AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
    Module1Registration.Model.PatientsContext, 
    False, 
    False
)'
2021-11-26 14:44:03.178 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 14:44:03.186 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2021-11-26 14:44:03.192 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:03.660 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:03.665 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2021-11-26 14:44:03.706 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2021-11-26 14:44:03.744 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 14:44:03.747 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2021-11-26 14:44:03.762 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 14:44:03.821 +01:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 14:44:03.838 +01:00 [DBG] The foreign key property 'Patient.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2021-11-26 14:44:03.849 +01:00 [DBG] A data reader was disposed.
2021-11-26 14:44:03.853 +01:00 [DBG] Committing transaction.
2021-11-26 14:44:03.891 +01:00 [DBG] Committed transaction.
2021-11-26 14:44:03.894 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:03.900 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:03.904 +01:00 [DBG] Disposing transaction.
2021-11-26 14:44:03.913 +01:00 [DBG] An entity of type 'Patient' tracked by 'PatientsContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:03.917 +01:00 [DBG] SaveChanges completed for 'PatientsContext' with 1 entities written to the database.
2021-11-26 14:44:03.982 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:03.986 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 14:44:04.016 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 14:44:04.022 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.025 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.029 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.032 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.034 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.036 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.039 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.041 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.045 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.049 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.052 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.055 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.059 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.062 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.064 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 14:44:04.067 +01:00 [DBG] A data reader was disposed.
2021-11-26 14:44:04.070 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:04.077 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 14:44:04.083 +01:00 [INF] Executed action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1435.4765ms.
2021-11-26 14:44:04.087 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:04.092 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:04.095 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:04.097 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:04.100 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:04.103 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:04.107 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 14:44:04.110 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-11-26 14:44:04.115 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-11-26 14:44:04.117 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-11-26 14:44:04.120 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-11-26 14:44:04.122 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-11-26 14:44:04.125 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-11-26 14:44:04.127 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Module1Registration.Model.Patient, Module1Registration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 14:44:04.139 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 14:44:04.142 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:04.144 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:04.150 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) in 1667.8864ms
2021-11-26 14:44:04.153 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 14:44:04.157 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" completed keep alive response.
2021-11-26 14:44:04.161 +01:00 [DBG] 'PatientsContext' disposed.
2021-11-26 14:44:04.165 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Patients - - - 200 - application/json;+charset=utf-8 2553.5276ms
2021-11-26 14:44:04.192 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0
2021-11-26 14:44:04.194 +01:00 [VRB] All hosts are allowed.
2021-11-26 14:44:04.196 +01:00 [DBG] POST requests are not supported
2021-11-26 14:44:04.199 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients/invalid'
2021-11-26 14:44:04.200 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)' with route pattern 'api/Patients/invalid' is valid for the request path '/api/Patients/invalid'
2021-11-26 14:44:04.203 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:44:04.206 +01:00 [INF] Successfully validated the token.
2021-11-26 14:44:04.209 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 14:44:04.212 +01:00 [INF] Authorization was successful.
2021-11-26 14:44:04.214 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:44:04.216 +01:00 [INF] Route matched with {action = "Invalid", controller = "Patients"}. Executing controller action with signature Void Invalid() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 14:44:04.218 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 14:44:04.221 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 14:44:04.223 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 14:44:04.227 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 14:44:04.229 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 14:44:04.231 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:44:04.235 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 14:44:04.237 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:04.239 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:04.242 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:04.245 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:04.247 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) - Validation state: "Valid"
2021-11-26 14:44:21.187 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:21.199 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:21.205 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:21.209 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:21.214 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) in 16982.5559ms
2021-11-26 14:44:21.217 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 14:44:21.221 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Kontrolowany wyjÄ…tek aplikacji
   at Module1Registration.Controllers.PatientsController.Invalid() in C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration\Controllers\PatientsController.cs:line 51
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.<>c__DisplayClass33_0.<WrapVoidMethod>b__0(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.VoidResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-26 14:44:21.249 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" completed keep alive response.
2021-11-26 14:44:21.252 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0 - 500 - text/plain 17060.4056ms
2021-11-26 14:44:24.241 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" reset.
2021-11-26 14:44:24.241 +01:00 [DBG] Connection id "0HMDGSB6UA4N2" reset.
2021-11-26 14:44:24.247 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" sending FIN because: "The client closed the connection."
2021-11-26 14:44:24.250 +01:00 [DBG] Connection id "0HMDGSB6UA4N2" sending FIN because: "The client closed the connection."
2021-11-26 14:44:24.253 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" disconnecting.
2021-11-26 14:44:24.256 +01:00 [DBG] Connection id "0HMDGSB6UA4N2" disconnecting.
2021-11-26 14:44:24.261 +01:00 [DBG] Connection id "0HMDGSB6UA4N0" stopped.
2021-11-26 14:44:24.555 +01:00 [INF] Executed action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 21858.7574ms.
2021-11-26 14:44:24.558 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:24.561 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 14:44:24.564 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:24.567 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 14:44:24.569 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:24.572 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:24.575 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2021-11-26 14:44:24.578 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-11-26 14:44:24.582 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-11-26 14:44:24.585 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-11-26 14:44:24.587 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-11-26 14:44:24.589 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-11-26 14:44:24.591 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-11-26 14:44:24.593 +01:00 [INF] Executing CreatedResult, writing value of type 'Module1Registration.Model.Patient'.
2021-11-26 14:44:24.596 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2021-11-26 14:44:24.598 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:24.601 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 14:44:24.603 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) in 22113.5025ms
2021-11-26 14:44:24.606 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 14:44:24.609 +01:00 [DBG] 'PatientsContext' disposed.
2021-11-26 14:44:24.613 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients application/json 130 - 201 - application/json;+charset=utf-8 23000.7646ms
2021-11-26 14:44:24.619 +01:00 [DBG] Connection id "0HMDGSB6UA4N2" stopped.
2021-11-26 14:45:00.603 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" received "PING" frame for stream ID 0 with length 8 and flags "NONE"
2021-11-26 14:45:00.613 +01:00 [VRB] Connection id "0HMDGSB6UA4N1" sending "PING" frame for stream ID 0 with length 8 and flags "ACK"
2021-11-26 15:02:20.733 +01:00 [DBG] Hosting starting
2021-11-26 15:02:20.836 +01:00 [INF] User profile is available. Using 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 15:02:20.852 +01:00 [DBG] Reading data from file 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys\key-0cfc37d2-185c-43a7-bf74-651739a90b9f.xml'.
2021-11-26 15:02:20.868 +01:00 [DBG] Found key {0cfc37d2-185c-43a7-bf74-651739a90b9f}.
2021-11-26 15:02:20.881 +01:00 [DBG] Considering key {0cfc37d2-185c-43a7-bf74-651739a90b9f} with expiration date 2022-02-22 20:30:42Z as default key.
2021-11-26 15:02:20.892 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 15:02:20.896 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-26 15:02:20.900 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 15:02:20.904 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-26 15:02:20.908 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-26 15:02:20.912 +01:00 [DBG] Using key {0cfc37d2-185c-43a7-bf74-651739a90b9f} as the default key.
2021-11-26 15:02:20.915 +01:00 [DBG] Key ring with default key {0cfc37d2-185c-43a7-bf74-651739a90b9f} was loaded during application startup.
2021-11-26 15:02:21.416 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FE07226D4C9FE5498DB010CAFE86FB2848FC7023)
2021-11-26 15:02:21.440 +01:00 [INF] Now listening on: https://localhost:5001
2021-11-26 15:02:21.443 +01:00 [INF] Now listening on: http://localhost:5000
2021-11-26 15:02:21.446 +01:00 [DBG] Loaded hosting startup assembly Module1Registration
2021-11-26 15:02:21.450 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 15:02:21.454 +01:00 [INF] Hosting environment: Development
2021-11-26 15:02:21.461 +01:00 [INF] Content root path: C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration
2021-11-26 15:02:21.465 +01:00 [DBG] Hosting started
2021-11-26 15:02:21.576 +01:00 [DBG] Connection id "0HMDGSLER8HUV" accepted.
2021-11-26 15:02:21.588 +01:00 [DBG] Connection id "0HMDGSLER8HV0" accepted.
2021-11-26 15:02:21.588 +01:00 [DBG] Connection id "0HMDGSLER8HUV" started.
2021-11-26 15:02:21.595 +01:00 [DBG] Connection id "0HMDGSLER8HV0" started.
2021-11-26 15:02:21.626 +01:00 [DBG] Connection "0HMDGSLER8HUV" established using the following protocol: "Tls12"
2021-11-26 15:02:21.627 +01:00 [DBG] Connection "0HMDGSLER8HV0" established using the following protocol: "Tls12"
2021-11-26 15:02:21.667 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Patients - -
2021-11-26 15:02:21.667 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients application/json 130
2021-11-26 15:02:21.673 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 15:02:21.673 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 15:02:21.684 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:02:21.688 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:02:21.750 +01:00 [DBG] The request path  does not match the path filter
2021-11-26 15:02:21.751 +01:00 [DBG] POST requests are not supported
2021-11-26 15:02:21.776 +01:00 [DBG] Connection id "0HMDGSLER8HV2" accepted.
2021-11-26 15:02:21.776 +01:00 [DBG] Connection id "0HMDGSLER8HV1" accepted.
2021-11-26 15:02:21.781 +01:00 [DBG] Connection id "0HMDGSLER8HV2" started.
2021-11-26 15:02:21.783 +01:00 [DBG] Connection id "0HMDGSLER8HV1" started.
2021-11-26 15:02:21.788 +01:00 [DBG] Connection id "0HMDGSLER8HV1" received FIN.
2021-11-26 15:02:21.795 +01:00 [DBG] Connection id "0HMDGSLER8HV2" received FIN.
2021-11-26 15:02:21.810 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 15:02:21.810 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 15:02:21.842 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 15:02:21.842 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 15:02:21.882 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 15:02:21.874 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 15:02:21.809 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 15:02:21.809 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 15:02:21.988 +01:00 [DBG] Connection id "0HMDGSLER8HV2" stopped.
2021-11-26 15:02:22.004 +01:00 [DBG] Connection id "0HMDGSLER8HV1" stopped.
2021-11-26 15:02:22.039 +01:00 [DBG] Connection id "0HMDGSLER8HV3" accepted.
2021-11-26 15:02:22.087 +01:00 [DBG] Connection id "0HMDGSLER8HV1" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 15:02:22.010 +01:00 [DBG] Connection id "0HMDGSLER8HV2" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 15:02:22.102 +01:00 [DBG] Connection id "0HMDGSLER8HV3" started.
2021-11-26 15:02:22.119 +01:00 [DBG] Connection "0HMDGSLER8HV3" established using the following protocol: "Tls12"
2021-11-26 15:02:22.138 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 15:02:22.145 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 15:02:22.148 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 15:02:22.152 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 15:02:22.155 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 15:02:22.158 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "PRIORITY" frame for stream ID 3 with length 5 and flags 0x0
2021-11-26 15:02:22.164 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "PRIORITY" frame for stream ID 5 with length 5 and flags 0x0
2021-11-26 15:02:22.167 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "PRIORITY" frame for stream ID 7 with length 5 and flags 0x0
2021-11-26 15:02:22.170 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "PRIORITY" frame for stream ID 9 with length 5 and flags 0x0
2021-11-26 15:02:22.179 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "PRIORITY" frame for stream ID 11 with length 5 and flags 0x0
2021-11-26 15:02:22.182 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "PRIORITY" frame for stream ID 13 with length 5 and flags 0x0
2021-11-26 15:02:22.184 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "HEADERS" frame for stream ID 15 with length 289 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 15:02:22.219 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "WINDOW_UPDATE" frame for stream ID 15 with length 4 and flags 0x0
2021-11-26 15:02:22.221 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-11-26 15:02:22.224 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 15:02:22.227 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:02:22.280 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "HEADERS" frame for stream ID 15 with length 90 and flags "END_HEADERS"
2021-11-26 15:02:22.288 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "DATA" frame for stream ID 15 with length 3193 and flags "NONE"
2021-11-26 15:02:22.324 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "DATA" frame for stream ID 15 with length 0 and flags "END_STREAM"
2021-11-26 15:02:22.349 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "HEADERS" frame for stream ID 17 with length 105 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 15:02:22.360 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 138.5379ms
2021-11-26 15:02:22.367 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "WINDOW_UPDATE" frame for stream ID 17 with length 4 and flags 0x0
2021-11-26 15:02:22.369 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-11-26 15:02:22.400 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "RST_STREAM" frame for stream ID 17 with length 4 and flags 0x0
2021-11-26 15:02:22.402 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:02:22.406 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "HEADERS" frame for stream ID 19 with length 65 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 15:02:22.449 +01:00 [VRB] Range header's value is empty.
2021-11-26 15:02:22.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-11-26 15:02:22.448 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "WINDOW_UPDATE" frame for stream ID 19 with length 4 and flags 0x0
2021-11-26 15:02:22.453 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:02:22.457 +01:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2021-11-26 15:02:22.474 +01:00 [VRB] Range header's value is empty.
2021-11-26 15:02:22.460 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "RST_STREAM" frame for stream ID 19 with length 4 and flags 0x0
2021-11-26 15:02:22.490 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-26 15:02:22.499 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "HEADERS" frame for stream ID 19 with length 108 and flags "END_HEADERS"
2021-11-26 15:02:22.505 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 135.7106ms
2021-11-26 15:02:22.510 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "DATA" frame for stream ID 19 with length 665 and flags "NONE"
2021-11-26 15:02:22.529 +01:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-11-26 15:02:22.532 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "HEADERS" frame for stream ID 21 with length 65 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 15:02:22.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 200 665 image/png 89.7538ms
2021-11-26 15:02:22.548 +01:00 [VRB] Connection id "0HMDGSLER8HV3" received "WINDOW_UPDATE" frame for stream ID 21 with length 4 and flags 0x0
2021-11-26 15:02:22.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-11-26 15:02:22.553 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:02:22.632 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "HEADERS" frame for stream ID 21 with length 36 and flags "END_HEADERS"
2021-11-26 15:02:22.634 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "DATA" frame for stream ID 21 with length 4924 and flags "NONE"
2021-11-26 15:02:22.637 +01:00 [VRB] Connection id "0HMDGSLER8HV3" sending "DATA" frame for stream ID 21 with length 0 and flags "END_STREAM"
2021-11-26 15:02:22.640 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 91.1757ms
2021-11-26 15:02:22.750 +01:00 [INF] Successfully validated the token.
2021-11-26 15:02:22.750 +01:00 [INF] Successfully validated the token.
2021-11-26 15:02:22.754 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 15:02:22.754 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 15:02:22.762 +01:00 [INF] Authorization was successful.
2021-11-26 15:02:22.762 +01:00 [INF] Authorization was successful.
2021-11-26 15:02:22.766 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 15:02:22.766 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 15:02:22.775 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-11-26 15:02:22.792 +01:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatients() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 15:02:22.796 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 15:02:22.799 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 15:02:22.803 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 15:02:22.806 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 15:02:22.809 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 15:02:22.814 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:02:22.815 +01:00 [INF] Route matched with {action = "CreatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePatient(Module1Registration.Model.Patient) on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 15:02:22.818 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 15:02:22.820 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 15:02:22.822 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 15:02:22.825 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 15:02:22.841 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 15:02:22.846 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:02:22.909 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 15:02:22.909 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 15:02:22.963 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:02:22.963 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:02:22.968 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:22.977 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:22.980 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:22.982 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 15:02:22.983 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:22.987 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' using the name '' in request data ...
2021-11-26 15:02:22.990 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-11-26 15:02:22.994 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) - Validation state: "Valid"
2021-11-26 15:02:22.997 +01:00 [DBG] Connection id "0HMDGSLER8HV0", Request id "0HMDGSLER8HV0:00000002": started reading request body.
2021-11-26 15:02:22.999 +01:00 [DBG] Connection id "0HMDGSLER8HV0", Request id "0HMDGSLER8HV0:00000002": done reading request body.
2021-11-26 15:02:23.011 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'Module1Registration.Model.Patient'
2021-11-26 15:02:23.013 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 15:02:23.015 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 15:02:23.019 +01:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 15:02:23.024 +01:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 15:02:23.029 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:23.032 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:23.035 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:23.038 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:23.041 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) - Validation state: "Valid"
2021-11-26 15:02:23.044 +01:00 [VRB] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) with arguments (["Module1Registration.Model.Patient"])
2021-11-26 15:02:23.333 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 15:02:23.333 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 15:02:23.366 +01:00 [DBG] 'PatientsContext' generated a temporary value for the property 'Id.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:23.373 +01:00 [DBG] Compiling query expression: 
'DbSet<Patient>()'
2021-11-26 15:02:23.417 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:23.421 +01:00 [DBG] SaveChanges starting for 'PatientsContext'.
2021-11-26 15:02:23.427 +01:00 [DBG] DetectChanges starting for 'PatientsContext'.
2021-11-26 15:02:23.437 +01:00 [DBG] DetectChanges completed for 'PatientsContext'.
2021-11-26 15:02:23.492 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:23.522 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Patient>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Age (Nullable<int>), 1], [Property: Patient.Email (string), 2], [Property: Patient.FirstName (string), 3], [Property: Patient.LastName (string), 4], [Property: Patient.TestDate (DateTime) Required, 5], }
        SELECT p.Id, p.Age, p.Email, p.FirstName, p.LastName, p.TestDate
        FROM Patients AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
    Module1Registration.Model.PatientsContext, 
    False, 
    False
)'
2021-11-26 15:02:23.555 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 15:02:23.564 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2021-11-26 15:02:23.568 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:24.023 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:24.029 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2021-11-26 15:02:24.064 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2021-11-26 15:02:24.104 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 15:02:24.108 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2021-11-26 15:02:24.129 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 15:02:24.226 +01:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 15:02:24.232 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:24.236 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 15:02:24.251 +01:00 [DBG] The foreign key property 'Patient.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2021-11-26 15:02:24.262 +01:00 [DBG] A data reader was disposed.
2021-11-26 15:02:24.267 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 15:02:24.270 +01:00 [DBG] Committing transaction.
2021-11-26 15:02:24.276 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.282 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.285 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.287 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.290 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.294 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.296 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.299 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.302 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.304 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.309 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.315 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.316 +01:00 [DBG] Committed transaction.
2021-11-26 15:02:24.318 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.321 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.321 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:24.326 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.330 +01:00 [DBG] A data reader was disposed.
2021-11-26 15:02:24.331 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:24.335 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:24.335 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:02:24.342 +01:00 [DBG] Disposing transaction.
2021-11-26 15:02:24.356 +01:00 [INF] Executed action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1352.9873ms.
2021-11-26 15:02:24.368 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:24.373 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:24.379 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:24.383 +01:00 [DBG] An entity of type 'Patient' tracked by 'PatientsContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:02:24.385 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:24.389 +01:00 [DBG] SaveChanges completed for 'PatientsContext' with 1 entities written to the database.
2021-11-26 15:02:24.391 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:02:24.394 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:02:24.398 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 15:02:24.402 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-11-26 15:02:24.407 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-11-26 15:02:24.412 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-11-26 15:02:24.417 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-11-26 15:02:24.420 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-11-26 15:02:24.422 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-11-26 15:02:24.424 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Module1Registration.Model.Patient, Module1Registration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 15:02:24.437 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 15:02:24.439 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:02:24.443 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:02:24.450 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) in 1633.9454ms
2021-11-26 15:02:24.452 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 15:02:24.456 +01:00 [DBG] Connection id "0HMDGSLER8HUV" completed keep alive response.
2021-11-26 15:02:24.461 +01:00 [DBG] 'PatientsContext' disposed.
2021-11-26 15:02:24.466 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Patients - - - 200 - application/json;+charset=utf-8 2803.0037ms
2021-11-26 15:02:24.497 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0
2021-11-26 15:02:24.499 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:02:24.502 +01:00 [DBG] POST requests are not supported
2021-11-26 15:02:24.504 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients/invalid'
2021-11-26 15:02:24.507 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)' with route pattern 'api/Patients/invalid' is valid for the request path '/api/Patients/invalid'
2021-11-26 15:02:24.511 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 15:02:24.514 +01:00 [INF] Successfully validated the token.
2021-11-26 15:02:24.516 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 15:02:24.518 +01:00 [INF] Authorization was successful.
2021-11-26 15:02:24.520 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 15:02:24.527 +01:00 [INF] Route matched with {action = "Invalid", controller = "Patients"}. Executing controller action with signature Void Invalid() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 15:02:24.531 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 15:02:24.535 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 15:02:24.537 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 15:02:24.540 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 15:02:24.543 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 15:02:24.547 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:02:24.552 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:02:24.554 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:24.556 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:02:24.559 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:24.562 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:02:24.564 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) - Validation state: "Valid"
2021-11-26 15:05:16.764 +01:00 [DBG] Hosting starting
2021-11-26 15:05:16.888 +01:00 [INF] User profile is available. Using 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-26 15:05:16.906 +01:00 [DBG] Reading data from file 'C:\Users\Bartosz\AppData\Local\ASP.NET\DataProtection-Keys\key-0cfc37d2-185c-43a7-bf74-651739a90b9f.xml'.
2021-11-26 15:05:16.924 +01:00 [DBG] Found key {0cfc37d2-185c-43a7-bf74-651739a90b9f}.
2021-11-26 15:05:16.945 +01:00 [DBG] Considering key {0cfc37d2-185c-43a7-bf74-651739a90b9f} with expiration date 2022-02-22 20:30:42Z as default key.
2021-11-26 15:05:16.960 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 15:05:16.969 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-26 15:05:16.976 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-26 15:05:16.984 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-26 15:05:16.996 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-26 15:05:17.002 +01:00 [DBG] Using key {0cfc37d2-185c-43a7-bf74-651739a90b9f} as the default key.
2021-11-26 15:05:17.011 +01:00 [DBG] Key ring with default key {0cfc37d2-185c-43a7-bf74-651739a90b9f} was loaded during application startup.
2021-11-26 15:05:17.768 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: FE07226D4C9FE5498DB010CAFE86FB2848FC7023)
2021-11-26 15:05:17.788 +01:00 [INF] Now listening on: https://localhost:5001
2021-11-26 15:05:17.792 +01:00 [INF] Now listening on: http://localhost:5000
2021-11-26 15:05:17.794 +01:00 [DBG] Loaded hosting startup assembly Module1Registration
2021-11-26 15:05:17.797 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-26 15:05:17.799 +01:00 [INF] Hosting environment: Development
2021-11-26 15:05:17.800 +01:00 [INF] Content root path: C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration
2021-11-26 15:05:17.802 +01:00 [DBG] Hosting started
2021-11-26 15:05:18.007 +01:00 [DBG] Connection id "0HMDGSN3DR91H" received FIN.
2021-11-26 15:05:18.010 +01:00 [DBG] Connection id "0HMDGSN3DR91I" received FIN.
2021-11-26 15:05:18.013 +01:00 [DBG] Connection id "0HMDGSN3DR91I" accepted.
2021-11-26 15:05:18.013 +01:00 [DBG] Connection id "0HMDGSN3DR91H" accepted.
2021-11-26 15:05:18.024 +01:00 [DBG] Connection id "0HMDGSN3DR91I" started.
2021-11-26 15:05:18.024 +01:00 [DBG] Connection id "0HMDGSN3DR91H" started.
2021-11-26 15:05:18.032 +01:00 [DBG] Connection id "0HMDGSN3DR91J" accepted.
2021-11-26 15:05:18.041 +01:00 [DBG] Connection id "0HMDGSN3DR91K" accepted.
2021-11-26 15:05:18.049 +01:00 [DBG] Connection id "0HMDGSN3DR91J" started.
2021-11-26 15:05:18.053 +01:00 [DBG] Connection id "0HMDGSN3DR91K" started.
2021-11-26 15:05:18.090 +01:00 [DBG] Connection "0HMDGSN3DR91J" established using the following protocol: "Tls12"
2021-11-26 15:05:18.090 +01:00 [DBG] Connection "0HMDGSN3DR91K" established using the following protocol: "Tls12"
2021-11-26 15:05:18.061 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 15:05:18.061 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2021-11-26 15:05:18.146 +01:00 [DBG] Connection id "0HMDGSN3DR91I" stopped.
2021-11-26 15:05:18.146 +01:00 [DBG] Connection id "0HMDGSN3DR91H" stopped.
2021-11-26 15:05:18.152 +01:00 [DBG] Connection id "0HMDGSN3DR91H" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 15:05:18.159 +01:00 [DBG] Connection id "0HMDGSN3DR91I" sending FIN because: "The Socket transport's send loop completed gracefully."
2021-11-26 15:05:18.197 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Patients - -
2021-11-26 15:05:18.197 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients application/json 129
2021-11-26 15:05:18.212 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 15:05:18.217 +01:00 [DBG] Connection id "0HMDGSN3DR91L" accepted.
2021-11-26 15:05:18.216 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-26 15:05:18.219 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:05:18.227 +01:00 [DBG] Connection id "0HMDGSN3DR91L" started.
2021-11-26 15:05:18.229 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:05:18.240 +01:00 [DBG] Connection "0HMDGSN3DR91L" established using the following protocol: "Tls12"
2021-11-26 15:05:18.282 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 15:05:18.316 +01:00 [DBG] POST requests are not supported
2021-11-26 15:05:18.316 +01:00 [DBG] The request path  does not match the path filter
2021-11-26 15:05:18.342 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 15:05:18.383 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-26 15:05:18.400 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 15:05:18.404 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-26 15:05:18.412 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PRIORITY" frame for stream ID 3 with length 5 and flags 0x0
2021-11-26 15:05:18.416 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PRIORITY" frame for stream ID 5 with length 5 and flags 0x0
2021-11-26 15:05:18.419 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PRIORITY" frame for stream ID 7 with length 5 and flags 0x0
2021-11-26 15:05:18.423 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PRIORITY" frame for stream ID 9 with length 5 and flags 0x0
2021-11-26 15:05:18.427 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PRIORITY" frame for stream ID 11 with length 5 and flags 0x0
2021-11-26 15:05:18.429 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PRIORITY" frame for stream ID 13 with length 5 and flags 0x0
2021-11-26 15:05:18.433 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "HEADERS" frame for stream ID 15 with length 289 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 15:05:18.445 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "WINDOW_UPDATE" frame for stream ID 15 with length 4 and flags 0x0
2021-11-26 15:05:18.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-11-26 15:05:18.450 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-26 15:05:18.451 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:05:18.458 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 15:05:18.458 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients'
2021-11-26 15:05:18.463 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 15:05:18.463 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)' with route pattern 'api/Patients' is valid for the request path '/api/Patients'
2021-11-26 15:05:18.467 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 15:05:18.470 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 15:05:18.536 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "HEADERS" frame for stream ID 15 with length 90 and flags "END_HEADERS"
2021-11-26 15:05:18.541 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "DATA" frame for stream ID 15 with length 3193 and flags "NONE"
2021-11-26 15:05:18.544 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "DATA" frame for stream ID 15 with length 0 and flags "END_STREAM"
2021-11-26 15:05:18.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 105.7423ms
2021-11-26 15:05:18.685 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "HEADERS" frame for stream ID 17 with length 105 and flags "END_STREAM, END_HEADERS, PRIORITY"
2021-11-26 15:05:18.691 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "WINDOW_UPDATE" frame for stream ID 17 with length 4 and flags 0x0
2021-11-26 15:05:18.697 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-11-26 15:05:18.702 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:05:18.803 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "HEADERS" frame for stream ID 17 with length 66 and flags "END_HEADERS"
2021-11-26 15:05:18.808 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "DATA" frame for stream ID 17 with length 4924 and flags "NONE"
2021-11-26 15:05:18.812 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "DATA" frame for stream ID 17 with length 0 and flags "END_STREAM"
2021-11-26 15:05:18.815 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.2176ms
2021-11-26 15:05:19.002 +01:00 [INF] Successfully validated the token.
2021-11-26 15:05:19.002 +01:00 [INF] Successfully validated the token.
2021-11-26 15:05:19.007 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 15:05:19.007 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 15:05:19.018 +01:00 [INF] Authorization was successful.
2021-11-26 15:05:19.018 +01:00 [INF] Authorization was successful.
2021-11-26 15:05:19.024 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 15:05:19.024 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 15:05:19.035 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-11-26 15:05:19.055 +01:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllPatients() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 15:05:19.063 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 15:05:19.066 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 15:05:19.069 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 15:05:19.072 +01:00 [INF] Route matched with {action = "CreatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePatient(Module1Registration.Model.Patient) on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 15:05:19.075 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 15:05:19.079 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 15:05:19.083 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 15:05:19.084 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 15:05:19.087 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:05:19.087 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 15:05:19.094 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 15:05:19.096 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 15:05:19.098 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:05:19.169 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 15:05:19.169 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-26 15:05:19.222 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:05:19.222 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:05:19.226 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:19.229 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:19.231 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:19.242 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:19.244 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 15:05:19.248 +01:00 [DBG] Attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient' using the name '' in request data ...
2021-11-26 15:05:19.251 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) - Validation state: "Valid"
2021-11-26 15:05:19.253 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-11-26 15:05:19.259 +01:00 [DBG] Connection id "0HMDGSN3DR91J", Request id "0HMDGSN3DR91J:00000002": started reading request body.
2021-11-26 15:05:19.261 +01:00 [DBG] Connection id "0HMDGSN3DR91J", Request id "0HMDGSN3DR91J:00000002": done reading request body.
2021-11-26 15:05:19.274 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'Module1Registration.Model.Patient'
2021-11-26 15:05:19.277 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 15:05:19.279 +01:00 [DBG] Done attempting to bind parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 15:05:19.283 +01:00 [DBG] Attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient' ...
2021-11-26 15:05:19.290 +01:00 [DBG] Done attempting to validate the bound parameter 'patient' of type 'Module1Registration.Model.Patient'.
2021-11-26 15:05:19.295 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:19.298 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:19.302 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:19.305 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:19.309 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) - Validation state: "Valid"
2021-11-26 15:05:19.311 +01:00 [VRB] Executing action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) with arguments (["Module1Registration.Model.Patient"])
2021-11-26 15:05:19.599 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 15:05:19.599 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'PatientsContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-11-26 15:05:19.635 +01:00 [DBG] 'PatientsContext' generated a temporary value for the property 'Id.Patient'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:19.641 +01:00 [DBG] Compiling query expression: 
'DbSet<Patient>()'
2021-11-26 15:05:19.685 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:19.691 +01:00 [DBG] SaveChanges starting for 'PatientsContext'.
2021-11-26 15:05:19.696 +01:00 [DBG] DetectChanges starting for 'PatientsContext'.
2021-11-26 15:05:19.707 +01:00 [DBG] DetectChanges completed for 'PatientsContext'.
2021-11-26 15:05:19.748 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:19.761 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Patient>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Patient.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Age (Nullable<int>), 1], [Property: Patient.Email (string), 2], [Property: Patient.FirstName (string), 3], [Property: Patient.LastName (string), 4], [Property: Patient.TestDate (DateTime) Required, 5], }
        SELECT p.Id, p.Age, p.Email, p.FirstName, p.LastName, p.TestDate
        FROM Patients AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Patient>, 
    Module1Registration.Model.PatientsContext, 
    False, 
    False
)'
2021-11-26 15:05:19.792 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 15:05:19.804 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2021-11-26 15:05:19.809 +01:00 [DBG] Opening connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:20.202 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:20.208 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2021-11-26 15:05:20.243 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2021-11-26 15:05:20.278 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-26 15:05:20.282 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2021-11-26 15:05:20.299 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 15:05:20.363 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Patients] ([Age], [Email], [FirstName], [LastName], [TestDate])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Patients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-11-26 15:05:20.381 +01:00 [DBG] The foreign key property 'Patient.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2021-11-26 15:05:20.391 +01:00 [DBG] A data reader was disposed.
2021-11-26 15:05:20.396 +01:00 [DBG] Committing transaction.
2021-11-26 15:05:20.451 +01:00 [DBG] Committed transaction.
2021-11-26 15:05:20.454 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:20.461 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:20.465 +01:00 [DBG] Disposing transaction.
2021-11-26 15:05:20.474 +01:00 [DBG] An entity of type 'Patient' tracked by 'PatientsContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.479 +01:00 [DBG] SaveChanges completed for 'PatientsContext' with 1 entities written to the database.
2021-11-26 15:05:20.516 +01:00 [DBG] Opened connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:20.520 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 15:05:20.557 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Age], [p].[Email], [p].[FirstName], [p].[LastName], [p].[TestDate]
FROM [Patients] AS [p]
2021-11-26 15:05:20.565 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.570 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.573 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.577 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.580 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.583 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.586 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.592 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.595 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.598 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.601 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.604 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.607 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.610 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.613 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.616 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.619 +01:00 [DBG] Context 'PatientsContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-11-26 15:05:20.622 +01:00 [DBG] A data reader was disposed.
2021-11-26 15:05:20.625 +01:00 [DBG] Closing connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:20.628 +01:00 [DBG] Closed connection to database 'wwsi-pr-102104' on server 'tcp:wwsi-pr-102-bwieczorek.database.windows.net,1433'.
2021-11-26 15:05:20.633 +01:00 [INF] Executed action method Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1375.153ms.
2021-11-26 15:05:20.638 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:20.642 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:20.645 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:20.648 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:20.658 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:20.661 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:20.665 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 15:05:20.669 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-11-26 15:05:20.675 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-11-26 15:05:20.678 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-11-26 15:05:20.681 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-11-26 15:05:20.684 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-11-26 15:05:20.686 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-11-26 15:05:20.689 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Module1Registration.Model.Patient, Module1Registration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-26 15:05:20.702 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2021-11-26 15:05:20.706 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:20.709 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:20.716 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration) in 1626.3102ms
2021-11-26 15:05:20.719 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.GetAllPatients (Module1Registration)'
2021-11-26 15:05:20.723 +01:00 [DBG] Connection id "0HMDGSN3DR91K" completed keep alive response.
2021-11-26 15:05:20.729 +01:00 [DBG] 'PatientsContext' disposed.
2021-11-26 15:05:20.734 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Patients - - - 200 - application/json;+charset=utf-8 2547.2080ms
2021-11-26 15:05:20.758 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0
2021-11-26 15:05:20.761 +01:00 [VRB] All hosts are allowed.
2021-11-26 15:05:20.763 +01:00 [DBG] POST requests are not supported
2021-11-26 15:05:20.766 +01:00 [DBG] 1 candidate(s) found for the request path '/api/Patients/invalid'
2021-11-26 15:05:20.768 +01:00 [DBG] Endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)' with route pattern 'api/Patients/invalid' is valid for the request path '/api/Patients/invalid'
2021-11-26 15:05:20.772 +01:00 [DBG] Request matched endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 15:05:20.778 +01:00 [INF] Successfully validated the token.
2021-11-26 15:05:20.780 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-26 15:05:20.783 +01:00 [INF] Authorization was successful.
2021-11-26 15:05:20.786 +01:00 [INF] Executing endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 15:05:20.790 +01:00 [INF] Route matched with {action = "Invalid", controller = "Patients"}. Executing controller action with signature Void Invalid() on controller Module1Registration.Controllers.PatientsController (Module1Registration).
2021-11-26 15:05:20.794 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-11-26 15:05:20.796 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-11-26 15:05:20.798 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-11-26 15:05:20.801 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-11-26 15:05:20.803 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-11-26 15:05:20.806 +01:00 [DBG] Executing controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:05:20.811 +01:00 [DBG] Executed controller factory for controller Module1Registration.Controllers.PatientsController (Module1Registration)
2021-11-26 15:05:20.813 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:20.816 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:20.818 +01:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:20.822 +01:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:20.825 +01:00 [INF] Executing action method Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) - Validation state: "Valid"
2021-11-26 15:05:22.971 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:22.977 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:22.980 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:22.998 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:23.001 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.Invalid (Module1Registration) in 2194.4017ms
2021-11-26 15:05:23.003 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.Invalid (Module1Registration)'
2021-11-26 15:05:23.007 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Kontrolowany wyjÄ…tek aplikacji
   at Module1Registration.Controllers.PatientsController.Invalid() in C:\Users\Bartosz\source\repos\Module1Covid\Module1Registration\Controllers\PatientsController.cs:line 51
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.<>c__DisplayClass33_0.<WrapVoidMethod>b__0(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.VoidResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-26 15:05:23.032 +01:00 [DBG] Connection id "0HMDGSN3DR91K" completed keep alive response.
2021-11-26 15:05:23.036 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients/invalid application/json;+charset=utf-8 0 - 500 - text/plain 2277.6278ms
2021-11-26 15:05:25.186 +01:00 [DBG] Connection id "0HMDGSN3DR91K" reset.
2021-11-26 15:05:25.186 +01:00 [DBG] Connection id "0HMDGSN3DR91J" reset.
2021-11-26 15:05:25.193 +01:00 [DBG] Connection id "0HMDGSN3DR91K" sending FIN because: "The client closed the connection."
2021-11-26 15:05:25.195 +01:00 [DBG] Connection id "0HMDGSN3DR91J" sending FIN because: "The client closed the connection."
2021-11-26 15:05:25.197 +01:00 [DBG] Connection id "0HMDGSN3DR91K" disconnecting.
2021-11-26 15:05:25.199 +01:00 [DBG] Connection id "0HMDGSN3DR91J" disconnecting.
2021-11-26 15:05:25.203 +01:00 [DBG] Connection id "0HMDGSN3DR91K" stopped.
2021-11-26 15:05:25.774 +01:00 [INF] Executed action method Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration), returned result Microsoft.AspNetCore.Mvc.CreatedResult in 6458.9327ms.
2021-11-26 15:05:25.778 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:25.781 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-11-26 15:05:25.784 +01:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:25.788 +01:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-11-26 15:05:25.792 +01:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:25.795 +01:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:25.798 +01:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2021-11-26 15:05:25.803 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-11-26 15:05:25.810 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-11-26 15:05:25.812 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-11-26 15:05:25.814 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-11-26 15:05:25.818 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-11-26 15:05:25.820 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-11-26 15:05:25.823 +01:00 [INF] Executing CreatedResult, writing value of type 'Module1Registration.Model.Patient'.
2021-11-26 15:05:25.827 +01:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.CreatedResult.
2021-11-26 15:05:25.829 +01:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:25.831 +01:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-11-26 15:05:25.834 +01:00 [INF] Executed action Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration) in 6735.6841ms
2021-11-26 15:05:25.837 +01:00 [INF] Executed endpoint 'Module1Registration.Controllers.PatientsController.CreatePatient (Module1Registration)'
2021-11-26 15:05:25.840 +01:00 [DBG] 'PatientsContext' disposed.
2021-11-26 15:05:25.842 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Patients application/json 129 - 201 - application/json;+charset=utf-8 7655.5272ms
2021-11-26 15:05:25.847 +01:00 [DBG] Connection id "0HMDGSN3DR91J" stopped.
2021-11-26 15:06:17.386 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PING" frame for stream ID 0 with length 8 and flags "NONE"
2021-11-26 15:06:17.392 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "PING" frame for stream ID 0 with length 8 and flags "ACK"
2021-11-26 15:07:16.392 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "PING" frame for stream ID 0 with length 8 and flags "NONE"
2021-11-26 15:07:16.395 +01:00 [VRB] Connection id "0HMDGSN3DR91L" sending "PING" frame for stream ID 0 with length 8 and flags "ACK"
2021-11-26 15:08:09.526 +01:00 [DBG] Connection id "0HMDGSN3DR91L" received FIN.
2021-11-26 15:08:09.526 +01:00 [VRB] Connection id "0HMDGSN3DR91L" received "GOAWAY" frame for stream ID 0 with length 8 and flags 0x0
2021-11-26 15:08:09.531 +01:00 [DBG] Connection id "0HMDGSN3DR91L" is closed. The last processed stream ID was 17.
2021-11-26 15:08:09.534 +01:00 [DBG] Connection id "0HMDGSN3DR91L" sending FIN because: "The client closed the connection."
2021-11-26 15:08:09.536 +01:00 [DBG] Connection id "0HMDGSN3DR91L" stopped.
